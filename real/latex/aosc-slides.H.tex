% The following lines cannot be added here, or Pandoc will complain.
% If you are working with LaTeX directly (xelatex, pdflatex, etc),
% Include these lines in your own preamble.
% ==========================================================================
% \documentclass[12pt]{article}
% \usepackage[papersize={512pt,288pt},textwidth=40em,tmargin=36pt,bmargin=42pt,landscape]{geometry}
% ==========================================================================

\usepackage{calc,fontspec,xeCJK,xeCJKfntef,paralist,enumitem,datetime2,amssymb,amsmath,tcolorbox,tocloft}
\usepackage{graphicx,eso-pic,tikz,adjustbox,tabu,indentfirst,microtype,fancyhdr}

% Portable Colors
\definecolor{BrandRed}{HTML}{C00000}
\definecolor{BrandYellow}{HTML}{FFC000}
\definecolor{BrandBlue}{HTML}{0070C0}
\definecolor{BrandBlack}{HTML}{000000}

\usepackage[hidelinks]{hyperref}


\setmainfont{Georgia}
\setromanfont{Georgia}
\setsansfont{Noto Sans}
\setmonofont{Inconsolata}
\setCJKmainfont{Noto Serif CJK SC}
\setCJKromanfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans CJK SC}
\frenchspacing
\linespread{1.18}


% Some basic inline styling
\let\oldstdhref\href
\renewcommand{\href}[2]{\oldstdhref{#1}{\textcolor{BrandBlue!75!black}{#2}}}





% Page layout decorations
\providecommand{\colorfultopbar}[0]{
	\AddToShipoutPictureBG*{
		\normalsize
		\put(0pt,272mm){%
			\parbox{\paperwidth}{
				\center
				\parbox{\textwidth}{
					\begin{adjustbox}{width=\linewidth}
						\begin{tikzpicture}
							\fill[BrandRed] (0,0) rectangle (1,0.025);
							\fill[BrandYellow] (1,0) rectangle (2,0.025);
							\fill[BrandBlue] (2,0) rectangle (3,0.025);
						\end{tikzpicture}
					\end{adjustbox}
				}

			}
		}
	}
}
% \pagestyle{fancy}
% \fancyhead[C]{\colorfultopbar}
% \fancyhead[L,R]{}
% \fancyfoot[L,R]{}
% \fancyfoot[C]{\thepage}
% \renewcommand{\headrulewidth}{0pt}
\pagestyle{empty}
% \apptocmd{\maketitle}{\thispagestyle{empty}}





% \usepackage{atbegshi}
% \newcommand\atPageUpperMyHook[1]{\vspace*{\fill}}
% \newcommand\atPageLowerMyHook[1]{\vspace*{\fill}}
% \AtBeginShipout{\AtBeginShipoutUpperLeftFork{\atPageUpperMyHook{}}}
% \AddToShipoutPictureFG{\AtPageLowerLeft{\atPageLowerMyHook{}}}







\makeatletter
\renewcommand{\maketitle}[0]{
	\pagecolor{black}
	\color{white}
	\thispagestyle{empty}
	\includegraphics[width=40pt]{_dist/vilibforaosc/deps/LOGO/aosc.svg.png}\par
	\vfill
	\begin{center}
		\rmfamily
		\huge
		\@title\par
	\end{center}
	\vfill
	\vskip 35pt
	\normalsize
    \sffamily
	\@author \hfill \@date\par
    \vskip 4pt
	\hrule
	\clearpage
	\pagecolor{white}
	\color{black}
    \newgeometry{vmargin=70pt}
    \sffamily\normalsize
}
\makeatother

\renewcommand{\section}[1]{
    % Section is a splash screen
	\clearpage
    \pagecolor{BrandBlue}
	\color{white}
	\leavevmode
	\vfill
	\begin{center}
        \sffamily
        \bfseries
		\huge#1
	\end{center}
    \vskip 20pt
	\vfill
	\clearpage
    \pagecolor{white}
	\color{black}
}

\renewcommand{\subsection}[1]{
    % Subsection starts a new page
    \clearpage
	\begin{center}
        \rmfamily
        \Large#1
    \end{center}
}
